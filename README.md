# ğŸ® å‡¤å‡°å°ç°é‡‘ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç®€æ´ã€ç°ä»£åŒ–çš„ä¸ªäººç°é‡‘ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ”¶æ”¯è®°å½•ã€æ•°æ®ç»Ÿè®¡å’Œè¶‹åŠ¿åˆ†æã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ’° **æ”¶æ”¯ç®¡ç†**: å¿«é€Ÿè®°å½•æ”¶å…¥å’Œæ”¯å‡º
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**: å®æ—¶æŸ¥çœ‹ä»Šæ—¥æ”¶æ”¯ã€å‡€æ”¶æ”¯
- ğŸ“ˆ **è¶‹åŠ¿åˆ†æ**: å¯è§†åŒ–å±•ç¤ºæ—¥/å‘¨/æœˆæ¶ˆè´¹è¶‹åŠ¿
- ğŸ¨ **ç°ä»£UI**: æ¸…æ–°çš„è“ç´«é…è‰²ï¼Œå“åº”å¼è®¾è®¡
- ğŸ”’ **æ•°æ®å®‰å…¨**: æœ¬åœ°JSONå­˜å‚¨ï¼Œè‡ªåŠ¨å¤‡ä»½
- ğŸ³ **Dockeræ”¯æŒ**: ä¸€é”®éƒ¨ç½²ï¼Œè½»æ¾ä¸Šæ‰‹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ç»Ÿä¸€ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# 1. åˆå§‹åŒ–ç¯å¢ƒ
./manage.sh init

# 2. å¯åŠ¨åº”ç”¨
./manage.sh start

# 3. è®¿é—®ç³»ç»Ÿ
# å‰å°: http://localhost:8080
# åå°: http://localhost:8080/admin
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ Docker

```bash
# 1. æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# 2. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 3. åœæ­¢æœåŠ¡
docker-compose down
```

### æ–¹å¼ä¸‰ï¼šç›´æ¥è¿è¡Œ

```bash
# 1. å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# 2. è¿è¡Œåº”ç”¨
python3 run.py
```

## ğŸ“‹ ç®¡ç†è„šæœ¬å‘½ä»¤

`manage.sh` æ˜¯ç»Ÿä¸€çš„ç®¡ç†è„šæœ¬ï¼Œæ•´åˆäº†æ‰€æœ‰å¸¸ç”¨åŠŸèƒ½ï¼š

```bash
./manage.sh start      # å¯åŠ¨åº”ç”¨
./manage.sh stop       # åœæ­¢åº”ç”¨
./manage.sh restart    # é‡å¯åº”ç”¨
./manage.sh status     # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
./manage.sh logs       # æŸ¥çœ‹å®æ—¶æ—¥å¿—
./manage.sh clean      # æ¸…ç†æ—¥å¿—
./manage.sh backup     # å¤‡ä»½æ•°æ®
./manage.sh init       # åˆå§‹åŒ–ç¯å¢ƒ
./manage.sh config     # æ˜¾ç¤ºé…ç½®ä¿¡æ¯
./manage.sh help       # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
# é¦–æ¬¡ä½¿ç”¨ï¼Œåˆå§‹åŒ–ç¯å¢ƒ
./manage.sh init

# å¯åŠ¨åº”ç”¨
./manage.sh start

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
./manage.sh status

# æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼ˆCtrl+C é€€å‡ºï¼‰
./manage.sh logs

# å¤‡ä»½æ•°æ®ï¼ˆè‡ªåŠ¨ä¿ç•™æœ€è¿‘10ä¸ªå¤‡ä»½ï¼‰
./manage.sh backup

# é‡å¯åº”ç”¨ï¼ˆä¿®æ”¹ä»£ç åï¼‰
./manage.sh restart

# åœæ­¢åº”ç”¨
./manage.sh stop
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç»Ÿä¸€ç«¯å£é…ç½®

ç«¯å£é…ç½®åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­ä¿æŒä¸€è‡´ï¼ˆé»˜è®¤: **8080**ï¼‰ï¼š

1. **manage.sh** (ç¬¬11è¡Œ)
   ```bash
   PORT=8080
   ```

2. **config.py** (ç¬¬11è¡Œ)
   ```python
   PORT = int(os.getenv('PORT', 8080))
   ```

3. **run.py** (ç¬¬6è¡Œ)
   ```python
   DEFAULT_PORT = os.getenv('PORT', '8080')
   ```

4. **Dockerfile** (ç¬¬31è¡Œ)
   ```dockerfile
   EXPOSE 8080
   ```

5. **docker-compose.yml** (ç¬¬7è¡Œ)
   ```yaml
   ports:
     - "8080:8080"
   ```

### ä¿®æ”¹ç«¯å£

å¦‚éœ€ä¿®æ”¹ç«¯å£ï¼Œåªéœ€ä¿®æ”¹ `manage.sh` ä¸­çš„ `PORT` å˜é‡ï¼Œå…¶ä»–åœ°æ–¹ä¼šè‡ªåŠ¨ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š

```bash
# åœ¨ manage.sh ä¸­ä¿®æ”¹
PORT=3000  # æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£

# æˆ–è€…é€šè¿‡ç¯å¢ƒå˜é‡
PORT=3000 ./manage.sh start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
xianjin/
â”œâ”€â”€ manage.sh              # ç»Ÿä¸€ç®¡ç†è„šæœ¬ â­
â”œâ”€â”€ app.py                 # Flask ä¸»ç¨‹åº
â”œâ”€â”€ run.py                 # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ Dockerfile             # Docker é•œåƒ
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ templates/             # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html        # å‰å°é¡µé¢
â”‚   â””â”€â”€ admin.html        # åå°é¡µé¢
â”œâ”€â”€ static/               # é™æ€èµ„æºï¼ˆå¦‚éœ€è¦ï¼‰
â”œâ”€â”€ data/                 # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ data.json        # äº¤æ˜“æ•°æ®
â”‚   â””â”€â”€ backups/         # æ•°æ®å¤‡ä»½
â””â”€â”€ logs/                # æ—¥å¿—ç›®å½•
    â””â”€â”€ app.log          # åº”ç”¨æ—¥å¿—
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### å‰å°é¡µé¢
- ğŸ“Š ä»Šæ—¥æ•°æ®å±•ç¤ºï¼ˆæ”¶å…¥ã€æ”¯å‡ºã€å‡€æ”¶æ”¯ï¼‰
- â• å¿«é€Ÿè®°è´¦æŒ‰é’®ï¼ˆæ”¶å…¥/æ”¯å‡ºï¼‰
- ğŸ“ˆ æ¶ˆè´¹è¶‹åŠ¿åˆ†æï¼ˆæ—¥/å‘¨/æœˆï¼‰
- ğŸ“‹ æœ€è¿‘äº¤æ˜“è®°å½•

### åå°é¡µé¢
- ğŸ“Š æ•°æ®æ¦‚è§ˆï¼ˆæ€»ä½™é¢ã€æ€»æ”¶å…¥ã€æ€»æ”¯å‡ºç­‰ï¼‰
- ğŸ” é«˜çº§ç­›é€‰ï¼ˆæ—¥æœŸèŒƒå›´ã€ç±»å‹ã€åˆ†ç±»ï¼‰
- ğŸ“„ åˆ†é¡µå±•ç¤ºäº¤æ˜“è®°å½•
- ğŸ“ˆ åˆ†ç±»æ¶ˆè´¹è¶‹åŠ¿å›¾ï¼ˆå¤šçº¿å›¾ï¼‰
- ğŸ“¥ æ•°æ®å¯¼å‡ºï¼ˆCSV/JSONï¼‰

## ğŸ”§ æŠ€æœ¯æ ˆ

- **åç«¯**: Flask (Python)
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript
- **å›¾è¡¨**: ECharts
- **æ—¥æœŸ**: Day.js
- **å­˜å‚¨**: JSON æ–‡ä»¶
- **å®¹å™¨**: Docker + Docker Compose

## ğŸ›¡ï¸ æ•°æ®å®‰å…¨

- âœ… æœ¬åœ°å­˜å‚¨ï¼Œæ•°æ®å®Œå…¨å—æ§
- âœ… è‡ªåŠ¨å¤‡ä»½æœºåˆ¶ï¼ˆä¿ç•™æœ€è¿‘10ä¸ªå¤‡ä»½ï¼‰
- âœ… æ‰‹åŠ¨å¤‡ä»½å‘½ä»¤: `./manage.sh backup`
- âœ… æ•°æ®æ–‡ä»¶: `data/data.json`
- âœ… å¤‡ä»½ç›®å½•: `data/backups/`

## ğŸ“ å¼€å‘è¯´æ˜

### ç¯å¢ƒè¦æ±‚

- Python 3.9+
- Flask 2.0+
- Docker (å¯é€‰)

### æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <your-repo>
cd xianjin

# 2. å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./manage.sh start

# 4. æŸ¥çœ‹æ—¥å¿—
./manage.sh logs
```

### ä¿®æ”¹ç«¯å£

æ‰€æœ‰ç«¯å£é…ç½®ç»Ÿä¸€ç®¡ç†ï¼Œä¿®æ”¹ `manage.sh` å³å¯ï¼š

```bash
# åœ¨ manage.sh ç¬¬11è¡Œä¿®æ”¹
PORT=3000  # æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f xianjin-app

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸ› æ•…éšœæ’æŸ¥

### ç«¯å£è¢«å ç”¨

```bash
# ä½¿ç”¨ç®¡ç†è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†
./manage.sh start  # ä¼šè‡ªåŠ¨ç»ˆæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹

# æˆ–æ‰‹åŠ¨ç»ˆæ­¢
lsof -ti:8080 | xargs kill -9
```

### åº”ç”¨æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹æ—¥å¿—
./manage.sh logs

# æˆ–ç›´æ¥æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f logs/app.log
```

### æ•°æ®ä¸¢å¤±

```bash
# æ¢å¤å¤‡ä»½
cp data/backups/data_backup_20251029_120000.json data/data.json

# é‡å¯åº”ç”¨
./manage.sh restart
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¨â€ğŸ’» ä½œè€…

å‡¤å‡°å°ç°é‡‘ç®¡ç†ç³»ç»Ÿ

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…ï¼

---

**âš¡ å¿«é€Ÿå¼€å§‹**: `./manage.sh init && ./manage.sh start`

**ğŸŒ è®¿é—®åœ°å€**: http://localhost:8080

**ğŸ’¡ è·å–å¸®åŠ©**: `./manage.sh help`
